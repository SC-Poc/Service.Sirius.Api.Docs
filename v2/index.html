
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Sirius API Reference"
        >
    <title>Sirius API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../stylesheets/screen-16d31104.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>

    <link href="../images/favicon-5c12dd4d.ico" rel="icon" type="image/ico" />
  </head>

  <body class="v2 v2_index" data-languages="[&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../images/logo-92d25c52.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#feedback" class="toc-h1 toc-link" data-title="Feedback">Feedback</a>
          </li>
          <li>
            <a href="#v2-requests-signing" class="toc-h1 toc-link" data-title="V2 requests signing">V2 requests signing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#v2-requests-signing-signing-format-guidelines" class="toc-h2 toc-link" data-title="Signing format guidelines">Signing format guidelines</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#assets" class="toc-h1 toc-link" data-title="Assets">Assets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#assets-search" class="toc-h2 toc-link" data-title="Search">Search</a>
                  </li>
                  <li>
                    <a href="#assets-addattributes" class="toc-h2 toc-link" data-title="AddAttributes">AddAttributes</a>
                  </li>
                  <li>
                    <a href="#assets-models" class="toc-h2 toc-link" data-title="Models">Models</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-structures" class="toc-h1 toc-link" data-title="Data structures">Data structures</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#data-structures-tagtype-enum" class="toc-h2 toc-link" data-title="TagType (enum)">TagType (enum)</a>
                  </li>
                  <li>
                    <a href="#data-structures-withdrawaldocument-object" class="toc-h2 toc-link" data-title="WithdrawalDocument (object)">WithdrawalDocument (object)</a>
                  </li>
                  <li>
                    <a href="#data-structures-destinationdetails-object" class="toc-h2 toc-link" data-title="DestinationDetails (object)">DestinationDetails (object)</a>
                  </li>
                  <li>
                    <a href="#data-structures-destinationtag-object" class="toc-h2 toc-link" data-title="DestinationTag (object)">DestinationTag (object)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#withdrawals" class="toc-h1 toc-link" data-title="Withdrawals">Withdrawals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#withdrawals-starts-a-withdrawal" class="toc-h2 toc-link" data-title="Starts a withdrawal">Starts a withdrawal</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#smartcontracts" class="toc-h1 toc-link" data-title="SmartContracts">SmartContracts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#smartcontracts-invoke-smart-contract-method" class="toc-h2 toc-link" data-title="Invoke smart contract method">Invoke smart contract method</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#known-properties" class="toc-h1 toc-link" data-title="Known properties">Known properties</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='/'>API V1</a></li>
            <li>API V2</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Sirius is a Digital Assets custody and a blockchain infrastructure API allowing consumers to manage blockchain wallets, keep their assets safe in self-managed custody, flexibly control transaction signing policies, receive deposits and execute withdrawals leveraging omnibus model, deploy and invoke smart contracts, receive smart contract events and read smart contract storage in many different blockchains in a general manner using the same API, data models and management UI. You don&#39;t need to learn the particularities of all the blockchains to get into the crypto world and use all top blockchains with ease.</p>

<p>For more information about Sirius, please contact us <a href="mailto:info@swisschain.io">info@swisschain.io</a>.</p>
<h1 id='feedback'>Feedback</h1>
<p>In the case, if you have found an issue in <a href="https://sirius.swisschain.io/swagger/ui/index.html">REST API</a>, <a href="https://sirius-grpc.swisschain.io">gRPC API</a>, <a href="https://universe.swisschain.io/">Universe portal</a>, or in this documentation, please give us feedback by adding a <a href="https://github.com/swisschain/Sirius.Public/issues/new">GitHub issue</a>. Thank you!</p>
<h1 id='v2-requests-signing'>V2 requests signing</h1>
<p>V2 API supports signed requests with asymmetric cryptography. Since every type of request is structurally different, the
format of the data to be signed also varies. In order to sign a request, clientside has to put together a string 
in the specific format and sign that string with the customer&#39;s private key, thereby generating RSA signature. 
Every V2 API definition contains special-purpose optional field called &quot;Signature&quot;, which has to be used to pass 
the RSA signature to the serverside.</p>

<p>The specific formats of the data to be signed are defined on the respective pages, describing an API endpoint. For clarity,
each API endpoint page contains subsection called &quot;Signing data format&quot; with detailed description of the parameters 
to be used for putting together textual data for signing.</p>

<p>For convenience of use, links to all formats&#39; descriptions are compiled below:</p>

<ul>
<li><em><a href="_brokerage-api-withdrawals.md#signing-data-format">Withdrawal V2 execution signing data format</a></em></li>
</ul>
<h2 id='v2-requests-signing-signing-format-guidelines'>Signing format guidelines</h2>
<p>While all requests serve various purposes and therefore consist of different parameters, they also follow several common
patterns. The way some of these patterns are used across V2 APIs in relation to the signing functionality is described below:</p>
<h3 id='v2-requests-signing-signing-format-guidelines-general-format-description'>General format description</h3>
<p>Signing data is a sequence of bytes, corresponding to UTF-8-encoded string in the specific format. The beginning and ending 
of the signing data are denoted by square brackets: <code>[]</code>. Each parameter value is encased in single quotes: <code>&#39;&#39;</code>.
Parameters are comma-separated without any whitespace characters before or after the separator. 
In the example below there are three parameters, two textual ones and a single numeric parameter:  </p>

<p><code>[&#39;parameter Value 1&#39;,&#39;parameter Value 2&#39;,&#39;26.7&#39;]</code></p>
<h3 id='v2-requests-signing-signing-format-guidelines-complex-parameter-values'>Complex parameter values</h3>
<p>Complex parameter values such as hashmaps or collections are represented as a single parameter encased with single quotes,
in which several chunks of data may appear separated by a semicolon (<code>;</code>). In the example below there are two parameters, 
first one representing a collection of values and second one is a hashmap:</p>

<p><code>[&#39;1.2;34.0;123.1;12.0&#39;,&#39;keyOne:valueOne;keyTwo:valueTwo&#39;]</code></p>
<h3 id='v2-requests-signing-signing-format-guidelines-argument-parameter-values'>Argument parameter values</h3>
<p>The arguments in the signing data represent inputs to the smart contract method being invoked. Similar to 
complex parameters, smart contract argument parameter values are represented as a single parameter encased 
with single quotes. Each Argument object consists of a parameter name and its corresponding value, and these 
are separated by a colon (<code>:</code>).</p>

<p>The Argument objects are sorted alphabetically by their parameter names. They are then appended to 
the signing data format string, with each Argument object separated by a semicolon (<code>;</code>).</p>

<p>Different types of arguments are formatted as follows:</p>

<p><strong>Void</strong>: A void argument type doesn&#39;t have a value to be represented, so the value should not appear in the signing data. Example:
<code>&#39;voidParameterName:&#39;</code></p>

<p><strong>Bool</strong>: A boolean argument is represented as either <code>true</code> or <code>false</code>. Example:
<code>&#39;flag:true&#39;</code></p>

<p><strong>Bytes</strong>: Byte array arguments are Base64-encoded. Example:
<code>&#39;byteArray:SGVsbG8=&#39;</code></p>

<p>This is for the byte array equivalent of the string &quot;Hello&quot;.</p>

<p><strong>Decimal</strong>: A BigDecimal argument is formatted with at least one fractional digit, even if the value is an integer. Example:
<code>&#39;decimalValue:2.0&#39;</code></p>

<p><strong>Int</strong>: A BigInteger argument is represented as is. Example:
<code>&#39;intValue:123&#39;</code></p>

<p><strong>String</strong>: String arguments are formatted in the same way as string parameters, i.e. with special characters escaped. Example:
<code>&#39;stringValue:Hello\:world&#39;</code></p>

<p><strong>Address</strong>: Ethereum address arguments are represented as is. Example:
<code>&#39;address:0x663e933ECdc5b1acbaCB87F4aa1636cd05837613&#39;</code></p>

<p><strong>Timestamp</strong>: A timestamp argument is represented in the same format it was passed to the API originally, 
following RFC 3339 format used in <code>google.protobuf.Timestamp</code>, i.e. <code>{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z</code>. Example:
<code>&#39;timestampParam:2017-01-15T01:30:15.01Z&#39;&#39;</code></p>

<p><strong>Enum</strong>: An enumeration argument is represented as a string. Example:
<code>&#39;enumValue:OPTION_ONE&#39;</code></p>

<p><strong>Array</strong>: Array arguments are formatted as a string with elements separated by a semicolon (<code>;</code>). Example:
<code>&#39;arrayArg:{value1;1234}&#39;</code></p>

<p><strong>Composite</strong>: Composite arguments are objects that contain fields. These fields are sorted alphabetically 
by name and formatted as a string of key-value pairs. Example:
<code>&#39;composite:{&#39;field1&#39;:&#39;value1&#39;,&#39;field2&#39;:&#39;value2&#39;}&#39;</code></p>

<p><strong>Map</strong>: Map arguments are formatted as a string with entries separated by a semicolon. Each entry is formatted 
as a key-value pair with a colon separating the key from the value. Example:
<code>&#39;arg1:{mapKeyB:mapValueB;mapKeyA:mapValueA}&#39;</code>
NB: map arguments ARE NOT sorted alphabetically by the keys, since the keys can theoretically be of different type, including
complex ones. Since it is not feasible to compare for instance an array with a timestamp for the purpose of sorting them, 
it was decided to format map arguments in the order they were provided.</p>

<p><strong>Either</strong>: An either argument can have one of two possible types. The value is formatted based on its actual type (as described above). The argument name indicates which type it is. Example:
<code>&#39;arg1:{field1:value1}&#39;</code></p>

<p>If the list of Argument objects is empty or null, it should be represented as null without quotes.</p>

<p>The arguments&#39; values have to be formatted correctly based on their types. For instance, if the value is a BigDecimal,
it is important to ensure that there&#39;s at least one fractional digit. If it&#39;s a String, the special characters have to be escaped.
In case of complex types like Array, Composite, or Either, the elements inside are sorted alphabetically 
by their keys before they are formatted for signing. However, the complex type of Map does not require sorting and it the 
signing data will be constructed in the original order of key-value pairs of map.</p>

<p>In the case where Argument objects contain complex parameter values like Array, Map, Composite, or Either, 
each value is formatted and encased in curly brackets {}. Each value inside these complex types is separated 
by a semicolon (;), and in the case of Map, Composite and Either, each key-value pair is separated by a colon (:).</p>
<h3 id='v2-requests-signing-signing-format-guidelines-special-characters'>Special characters</h3>
<p>Since original parameter values may contain special characters, used to encase values or denote boundaries between chunks 
of data, their values have to be escaped with a backslash (<code>\</code>). The comprehensive list of special characters is defined below:
- <code>:</code> separates key and its corresponding value in hashmaps, escaped as <code>\:</code>
- <code>;</code> separates key-value pairs in hashmaps and values in collections, escaped as <code>\;</code>
- <code>&#39;</code> encases parameter values, escaped as <code>\&#39;</code>
- <code>\</code> used to escape special characters, escaped as <code>\\</code></p>

<p>In the example below there are several parameters with special characters in their original values:</p>

<p><code>[&#39;Ocean\&#39;s eleven&#39;,&#39;keyOne:value\:One;key\;Two:valueTwo&#39;,&#39;\\path\\to\\directory\\targetFile.txt&#39;]</code></p>
<h3 id='v2-requests-signing-signing-format-guidelines-empty-and-unset-values'>Empty and unset values</h3>
<p>Some parameters are optional, but since their position in the signing data format is rigid, it is not possible to simply omit them.
Instead, the absence of its value has to be denoted explicitly with <code>null</code> without quotes.
In the example below there are two parameters, the first one with value and the second one with value unset:</p>

<p><code>[&#39;Parameter Value One&#39;,null]</code></p>

<p>The absence of a complex parameter value (i.e. when a hashmap parameter is unset) should be treated in the same way.</p>
<h3 id='v2-requests-signing-signing-format-guidelines-numeric-values'>Numeric values</h3>
<p>Numeric parameters, specifically those with data types that can contain a fractional part (such as decimal, double, float, etc.),
must be formatted with at least one decimal digit, regardless of whether they have a fractional part or not.
These parameters often represent quantities, such as asset amounts.</p>

<p>For example, a decimal value of 2 should be represented as 2.0 in the signing data:</p>

<p><code>[&#39;2.0&#39;]</code></p>

<p>This rule ensures consistency in how numeric values are presented in the signing data.</p>

<p>On the other hand, numeric data types that do not support a fractional part (e.g., integer, long, short, etc.) 
must be formatted without a fractional part and without a decimal separator symbol. For instance, an integer value 
of 2 should remain as 2 in the signing data:</p>

<p><code>[&#39;2&#39;]</code></p>

<p>It&#39;s important to distinguish between these two cases to prevent any ambiguity when processing the signing data.</p>
<h3 id='v2-requests-signing-signing-format-guidelines-configurable-properties'>Configurable properties</h3>
<p>Most API V2 requests support assigning custom properties in the form of set of key-value pairs. Since 
assigning properties can change the way request will be handled on the serverside (see <em><a href="_known-properties.md">known properties</a></em>),
properties are included in the signing data. Properties normally appear at the very end of signing data format
as a single parameter, encased in single quotes (<code>&#39;</code>). Properties data is concatenated without any whitespace characters
with colon (<code>:</code>) as a separator between a key and its corresponding value, and semicolon (<code>;</code>) as a separator between 
key-value pairs. In the signing data format order of properties is important. It is required to sort them alphabetically 
by keys. </p>

<p>In the example below there are two regular parameters, followed by four custom properties, sorted by keys alphabetically:</p>

<p><code>[&#39;parameter Value One&#39;,&#39;124662357832&#39;,&#39;BrokerageExternalId:445566778899;UserId:12345;UserValidatorId:dr3413;WalletName:TestWallet&#39;]</code></p>

<p>V2 APIs normally accept properties as a hashmap, with key-value pairs in arbitrary order. Received pairs of properties 
will be sorted during signature validation internally on the serverside. Following this logic, properties from the example above
can be sent to the serverside in the following way:
<code>json
{
  &quot;properties&quot;: {
    &quot;UserValidatorId&quot;: &quot;dr3413&quot;,
    &quot;WalletName&quot;: &quot;TestWallet&quot;,
    &quot;BrokerageExternalId&quot;: &quot;445566778899&quot;,
    &quot;UserId&quot;: 12345
  }
}
</code></p>

<p>If the properties are not present at all, it is required to denote their absence with <code>null</code> similar to any other parameter.</p>
<h1 id='assets'>Assets</h1>
<p>Sirius provides the set of crypto assets available to use.
You can get notifications about a deposit or initiate a withdrawal in any asset presented in this set.
The asset is a generic model which represents a native asset, fungible token or a non-fungible token.
It&#39;s possible that in the different blockchains assets with the same symbol and/or address are existed, so you have to rely only on the asset ID if you need to deterministically identify it.
If you&#39;ve received a deposit of an asset which is not supported by Sirius yet, you can add this particular asset to your personal list by specifying all needed asset parameters.</p>

<p><strong>Rest API:</strong> <code>/api/v2/assets</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.v2.assets</code></p>
<h2 id='assets-search'>Search</h2>
<p>Returns assets by search parameters.</p>

<p>gRPC API example:
```csharp
var request = new AssetSearchRequest
{
    Id = 10001,
    BlockchainId = &quot;ethereum&quot;,
    Symbol = &quot;USDC&quot;,
    TokenId = null,
    Address = &quot;0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48&quot;,
    Accuracy = 6,
    Pagination = new PaginationInt64
    {
        Cursor = null,
        Limit = 100,
        Order = PaginationOrder.Asc
    }
};</p>

<p>var response = client.AssetsV2.SearchAsync(request);
```</p>

<p>REST API example:
<code>json
GET /api/v2/assets?blockchainId=bitcoin&amp;symbol=BTC
</code></p>
<h3 id='assets-search-request'>Request</h3>
<table><thead>
<tr>
<th>REST name</th>
<th style="text-align: left">gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td style="text-align: left"><code>id</code></td>
<td><em>optional</em>, <em>long</em></td>
<td>ID of the asset to search</td>
<td>100553</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td style="text-align: left"><code>blockchain_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact blockchain id to search</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td style="text-align: left"><code>symbol</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Text to search in the asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>tokenId</code></td>
<td style="text-align: left"><code>token_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Text to search in the asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>address</code></td>
<td style="text-align: left"><code>address</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact address to search</td>
<td>0xC1701AbD559FC263829CA3917d03045F95b5224A</td>
</tr>
<tr>
<td><code>accuracy</code></td>
<td style="text-align: left"><code>accuracy</code></td>
<td><em>optional</em>, <em>int</em></td>
<td>Exact accuracy to search</td>
<td>8</td>
</tr>
<tr>
<td><code>pagination</code></td>
<td style="text-align: left">---</td>
<td><em>optional</em>, <em><a href="#api-usage-pagination-request">Pagination</a></em></td>
<td>pagination for gRPC API</td>
<td></td>
</tr>
<tr>
<td><code>order</code></td>
<td style="text-align: left"><code>order</code></td>
<td><em>optional</em>, <em><a href="#api-usage-pagination-request">PaginationOrder</a></em>, enum</td>
<td><em>REST</em> Descending or ascending sort of entries</td>
<td></td>
</tr>
<tr>
<td><code>limit</code></td>
<td style="text-align: left"><code>limit</code></td>
<td><em>optional</em>, <em><a href="#api-usage-pagination-request">PaginationLimit</a></em>, int</td>
<td><em>REST</em> Maximum number of entries to fetch</td>
<td></td>
</tr>
<tr>
<td><code>cursor</code></td>
<td style="text-align: left"><code>cursor</code></td>
<td><em>optional</em>, <em><a href="#api-usage-pagination-request">PaginationCursor</a></em>, long</td>
<td><em>REST</em> ID of anchor entity to start pagination from</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-search-response'>Response</h3>
<p><em><a href="#api-usage-pagination-response">Paginated</a></em> array of the <a href="#assets-models-asset">assets</a>.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>UNKNOWN</td>
<td>An unspecified error code received.</td>
</tr>
<tr>
<td>INVALID_PARAMETERS</td>
<td>Your request contains invalid parameters.</td>
</tr>
<tr>
<td>DOMAIN_PROBLEM</td>
<td>An error occurred while processing request.</td>
</tr>
<tr>
<td>TECHNICAL_PROBLEM</td>
<td>We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>
<h2 id='assets-addattributes'>AddAttributes</h2>
<p>Adds asset attributes.</p>

<p>gRPC API example:
```csharp
var request = new AssetAddAttributesRequest
{
    IdempotencyId = &quot;AD1D5199-1D1F-4B2C-AE6C-DED0DAAC4D34&quot;,
    AssetId = 10001,
    Aml = new AmlAssetAttributesCreateInfo
    {
        Chainalysis = new AmlChainalysisAssetAttributesInfo
        {
            Symbol = &quot;USDC&quot;,
            TransferFormat = ChainalysisTransferFormat.HashAndAddress,
            IsCheckDepositsEnabled = true,
            IsCheckWithdrawalsEnabled = true,
            IsNotifyWithdrawalsEnabled = true
        },
        MerkleScience = new AmlMerkleScienceAssetAttributesInfo
        {
            Symbol = &quot;USDC&quot;,
            Currency = 14,
            IsDisabled = false
        }
    },
    Brokerage = new BrokerageAssetAttributesCreateInfo
    {
        MinDepositThreshold = 1,
        MinWithdrawalAmount = 1
    }
};</p>

<p>var response = client.AssetsV2.AddAttributes(request);
```</p>

<p>REST API example:
```json
POST /api/v2/assets</p>

<blockquote>
<p>Request: (application/json)</p>

<p>Headers:<br>
X-Idempotency-ID: AD1D5199-1D1F-4B2C-AE6C-DED0DAAC4D34</p>

<p>Body:
{
  &quot;assetId&quot;:123122,
  &quot;brokerage&quot;:{
    &quot;minDepositThreshold&quot;:9,
    &quot;minWithdrawalAmount&quot;:144
  },
  &quot;aml&quot;:{
    &quot;chainalysis&quot;:{
      &quot;symbol&quot;:&quot;MANA&quot;,
      &quot;isCheckWithdrawalsEnabled&quot;:true,
      &quot;isCheckDepositsEnabled&quot;:true,
      &quot;isNotifyWithdrawalsEnabled&quot;:true,
      &quot;transferFormat&quot;:&quot;hashAndIndex&quot;
    },
    &quot;merkleScience&quot;:{
      &quot;symbol&quot;:&quot;MANA&quot;,
      &quot;currency&quot;:3,
      &quot;isDisabled&quot;:true
    }
  }
}
```</p>
</blockquote>
<h3 id='assets-addattributes-request'>Request</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Idempotency-ID</code></td>
<td>---</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>---</td>
<td><code>IdempotencyId</code></td>
<td><em>string</em></td>
<td>Request unique identifier</td>
<td>&quot;AD1D5199-1D1F-4B2C-AE6C-DED0DAAC4D34&quot;</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>long</em></td>
<td>Asset identifier in Sirius</td>
<td>10001</td>
</tr>
<tr>
<td><code>aml</code></td>
<td><code>aml</code></td>
<td><em><a href="#assets-models-amlassetattributescreateinfo">AmlAssetAttributesCreateInfo</a></em></td>
<td>AML asset attributes</td>
<td></td>
</tr>
<tr>
<td><code>brokerage</code></td>
<td><code>brokerage</code></td>
<td><em><a href="#assets-models-brokerageassetattributescreateinfo">BrokerageAssetAttributesCreateInfo</a></em></td>
<td>Brokerage asset attributes</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-addattributes-response'>Response</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>BrokerageAssetAttributesInfoId</code></td>
<td><code>brokerage_asset_attributes_id</code></td>
<td><em>required</em> <em>long</em></td>
<td>Brokerage asset attributes identifier</td>
<td>30002</td>
</tr>
<tr>
<td><code>AmlAssetAttributesInfoId</code></td>
<td><code>aml_asset_attributes_id</code></td>
<td><em>long</em></td>
<td>AML asset attributes identifier</td>
<td>40002</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>UNKNOWN</td>
<td>An unspecified error code received.</td>
</tr>
<tr>
<td>INVALID_PARAMETERS</td>
<td>Your request contains invalid parameters.</td>
</tr>
<tr>
<td>DOMAIN_PROBLEM</td>
<td>An error occurred while processing request.</td>
</tr>
<tr>
<td>TECHNICAL_PROBLEM</td>
<td>We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>
<h2 id='assets-models'>Models</h2><h3 id='assets-models-asset'>Asset</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>long</em></td>
<td>ID of the asset</td>
<td>100003</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>string</em></td>
<td>Exact blockchain id</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>symbol</code></td>
<td><em>string</em></td>
<td>Asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>tokenId</code></td>
<td><code>token_id</code></td>
<td><em>string</em></td>
<td>Token ID</td>
<td>101</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>string</em></td>
<td>Exact address</td>
<td>0xC1701AbD559FC263829CA3917d03045F95b5224A</td>
</tr>
<tr>
<td><code>accuracy</code></td>
<td><code>accuracy</code></td>
<td><em>int</em></td>
<td>Exact accuracy</td>
<td>8</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>The name of token</td>
<td>Toy</td>
</tr>
<tr>
<td><code>metadataUrl</code></td>
<td><code>metadata_url</code></td>
<td><em>string</em></td>
<td>The token metadata URL</td>
<td>ipfs://metadata.json</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em>string</em></td>
<td>The blockchain-specific type of token</td>
<td>ERC-20</td>
</tr>
<tr>
<td><code>aml</code></td>
<td><code>aml</code></td>
<td><em><a href="#assets-models-amlassetattributesinfo">AmlAssetAttributesInfo</a></em></td>
<td>The AML attributes</td>
<td></td>
</tr>
<tr>
<td><code>brokerage</code></td>
<td><code>brokerage</code></td>
<td><em><a href="#assets-models-brokerageassetattributesinfo">BrokerageAssetAttributesInfo</a></em></td>
<td>The brokerage attributes</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-models-amlassetattributescreateinfo'>AmlAssetAttributesCreateInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>chainalysis</code></td>
<td><code>chainalysis</code></td>
<td><em><a href="#assets-models-amlchainalysisassetattributesinfo">AmlChainalysisAssetAttributesInfo</a></em></td>
<td>Chainalysis attributes</td>
<td></td>
</tr>
<tr>
<td><code>merkleScience</code></td>
<td><code>merkle_science</code></td>
<td><em><a href="#assets-models-amlmerklescienceassetattributesinfo">AmlMerkleScienceAssetAttributesInfo</a></em></td>
<td>MerkleScience attributes</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-models-amlassetattributesinfo'>AmlAssetAttributesInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>long</em></td>
<td>ID of the info</td>
<td>300001</td>
</tr>
<tr>
<td><code>chainalysis</code></td>
<td><code>chainalysis</code></td>
<td><em><a href="#assets-models-amlchainalysisassetattributesinfo">AmlChainalysisAssetAttributesInfo</a></em></td>
<td>Chainalysis attributes</td>
<td></td>
</tr>
<tr>
<td><code>merkleScience</code></td>
<td><code>merkle_science</code></td>
<td><em><a href="#amlmerklescienceassetattributesinfo">AmlMerkleScienceAssetAttributesInfo</a></em></td>
<td>MerkleScience attributes</td>
<td></td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>DateTime</em></td>
<td>Create date time</td>
<td></td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>DateTime</em></td>
<td>Update date time</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-models-amlchainalysisassetattributesinfo'>AmlChainalysisAssetAttributesInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>symbol</code></td>
<td><em>string</em></td>
<td>Chainalysis asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>isCheckWithdrawalsEnabled</code></td>
<td><code>is_check_withdrawals_enabled</code></td>
<td><em>bool</em></td>
<td>Indicates that withdrawals check enabled</td>
<td>true</td>
</tr>
<tr>
<td><code>isCheckDepositsEnabled</code></td>
<td><code>is_check_deposits_enabled</code></td>
<td><em>bool</em></td>
<td>Indicates that deposits check enabled</td>
<td>true</td>
</tr>
<tr>
<td><code>isNotifyWithdrawalsEnabled</code></td>
<td><code>is_notify_withdrawals_enabled</code></td>
<td><em>bool</em></td>
<td>Indicates that notify withdrawals check enabled</td>
<td>true</td>
</tr>
<tr>
<td><code>transferFormat</code></td>
<td><code>transfer_format</code></td>
<td><em><a href="#assets-models-chainalysistransferformat-enum">ChainalysisTransferFormat</a></em></td>
<td>Update date time</td>
<td></td>
</tr>
</tbody></table>
<h3 id='assets-models-chainalysistransferformat-enum'>ChainalysisTransferFormat (enum)</h3>
<ul>
<li><code>HashAndIndex</code> - Hash and index</li>
<li><code>HashAndAddress</code> - Hash and address</li>
<li><code>Hash</code> - Hash</li>
</ul>
<h3 id='assets-models-amlmerklescienceassetattributesinfo'>AmlMerkleScienceAssetAttributesInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>symbol</code></td>
<td><em>string</em></td>
<td>MerkleScience asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>currency</code></td>
<td><code>currency</code></td>
<td><em>int</em></td>
<td>MerkleScience currency ID</td>
<td>12</td>
</tr>
<tr>
<td><code>isDisabled</code></td>
<td><code>is_disabled</code></td>
<td><em>bool</em></td>
<td>Indicates that asset check enabled</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id='assets-models-brokerageassetattributescreateinfo'>BrokerageAssetAttributesCreateInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>minDepositThreshold</code></td>
<td><code>min_deposit_threshold</code></td>
<td><em>decimal</em></td>
<td>Minimum deposit threshold</td>
<td>0.0001</td>
</tr>
<tr>
<td><code>minWithdrawalAmount</code></td>
<td><code>min_withdrawal_amount</code></td>
<td><em>decimal</em></td>
<td>Minimum withdrawal amount</td>
<td>0.1</td>
</tr>
</tbody></table>
<h3 id='assets-models-brokerageassetattributesinfo'>BrokerageAssetAttributesInfo</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>long</em></td>
<td>ID of the info</td>
<td>300001</td>
</tr>
<tr>
<td><code>minDepositThreshold</code></td>
<td><code>min_deposit_threshold</code></td>
<td><em>decimal</em></td>
<td>Minimum deposit threshold</td>
<td>0.0001</td>
</tr>
<tr>
<td><code>minWithdrawalAmount</code></td>
<td><code>min_withdrawal_amount</code></td>
<td><em>decimal</em></td>
<td>Minimum withdrawal amount</td>
<td>0.1</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>DateTime</em></td>
<td>Create date time</td>
<td></td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>DateTime</em></td>
<td>Update date time</td>
<td></td>
</tr>
</tbody></table>
<h1 id='data-structures'>Data structures</h1><h2 id='data-structures-tagtype-enum'>TagType (enum)</h2>
<p>Tag type of the account. Tag is additional information associated with particular account, 
which can be specified in the blockchain transaction. This allows to use single blockchain 
address to handle many accounts on it. This feature is available only on some blockchains: 
(Ripple, Stellar, Eos...). In some blockchains different types of the tag are supported,
and you have to specify exact type in this case.</p>

<ul>
<li><code>text</code> - text tag</li>
<li><code>number</code> - numeric tag</li>
</ul>
<h2 id='data-structures-withdrawaldocument-object'>WithdrawalDocument (object)</h2>
<ul>
<li><code>properties</code> (<em>map<string,string></em>) set of key-value pairs containing custom or <em><a href="_known-properties.md">known properties</a></em></li>
<li><code>assetId</code> (<em>number</em>) - ID of the asset to use</li>
<li><code>brokerAccountId</code> (<em>number</em>) - ID of the broker account to use</li>
<li><code>destinationDetails</code> (<em><a href="#destinationdetails-object">DestinationDetails</a></em>) - Destination details</li>
<li><code>amount</code> (<em>decimal</em>) - Withdrawal amount</li>
</ul>
<h2 id='data-structures-destinationdetails-object'>DestinationDetails (object)</h2>
<ul>
<li><code>address</code> (<em>string</em>) withdrawal destination address</li>
<li><code>destinationTag</code> (<em><a href="#destinationtag-object">DestinationTag</a></em>) - destination tag value and type</li>
</ul>
<h2 id='data-structures-destinationtag-object'>DestinationTag (object)</h2>
<ul>
<li><code>value</code> (<em>string</em> <em>optional</em>) string value of the tag</li>
<li><code>tagType</code> (<em><a href="#tagtype-enum">TagType</a></em>) - type of the tag to use</li>
</ul>
<h1 id='withdrawals'>Withdrawals</h1>
<p>Withdrawal refers to outgoing transfers of the funds from a broker account. You can get withdrawals history, or be notified about new withdrawals and state changing of the existing withdrawals. There are different options to be notified about withdrawals state changing:</p>

<ul>
<li>You can pull withdrawals updates REST API</li>
<li>You can listen for withdrawal updates gRPC stream</li>
<li>You can register a web-hook to get the notifications</li>
</ul>

<p>Withdrawal can be initiated by you via API or Universe portal UI. Every withdrawal is associated with a broker account,
an asset, optionally an account, your internal ID, it has amount, fees and state. You can provide &quot;WalletId&quot; property with 
the value of account reference ID in order to associate an account to the withdrawal. This link
doesn&#39;t affect funds flow, it&#39;s used just for the reporting and notifying you back with withdrawal updates. Also you can 
provide &quot;UserId&quot; property with the value of UserNativeId in the users dictionary. This association is optional and can 
be used to enable AML verification procedure.</p>

<p>The fees required for the withdrawal transaction are paid atop of the specified amount.</p>

<p>The lifecycle of a withdrawal:</p>

<p><img src="https://raw.githubusercontent.com/swisschain/Sirius.Api.Docs/master/source/images/withdrawal-lifecycle.png" alt="Withdrawal lifecycle"/></p>
<h2 id='withdrawals-starts-a-withdrawal'>Starts a withdrawal</h2><h3 id='withdrawals-starts-a-withdrawal-request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/v2/withdrawals</code>
<strong>gRPC API:</strong> <code>swisschain.sirius.api.v2.withdrawals.Execute</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/v</span><span class="mi">2</span><span class="err">/withdrawals</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">X-Idempotency-ID:</span><span class="w"> </span><span class="mi">36585</span><span class="err">f</span><span class="mi">34</span><span class="err">-d</span><span class="mi">311-433</span><span class="err">a</span><span class="mi">-87</span><span class="err">f</span><span class="mi">1-1751</span><span class="err">b</span><span class="mi">08480</span><span class="err">c</span><span class="mi">3</span><span class="w">
</span><span class="err">X-TFA-code:</span><span class="w"> </span><span class="mi">785441</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"document"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"WalletId"</span><span class="p">:</span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"UserId"</span><span class="p">:</span><span class="s2">"test"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"assetId"</span><span class="p">:</span><span class="mi">300578305</span><span class="p">,</span><span class="w">
    </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000140</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationDetails"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="s2">"0x663e933ECdc5b1acbaCB87F4aa1636cd05837613"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feePayer"</span><span class="p">:</span><span class="s2">"sender"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="s2">"pqG0st53GVkdBHIqCHsg9cB4noO1nyXlM8UGkZ+bC0fmvCbuf0W78GYj8ZuCtPMWl0XDIh5hVjwsjIPhiUfCl5KVUIA8La3EunRJZ5UkW95IvjcPCn+z5atzb8JQxPee8q2ehaMY+UNH08p1VmIjqJE1eKFzzs8ZxITu0gtwbZ4="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.v2.withdrawals.Execute</span>

<span class="err">&gt;</span> <span class="n">Requests</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">WithdrawalExecuteRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">idempotency_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// '36585f34-d311-433a-87f1-1751b08480c3'</span>
  <span class="n">WithdrawalDocument</span> <span class="na">document</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kt">bytes</span> <span class="na">signature</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// a6 a1 b4 b2 de 77 19 59 1d 04 72 2a 08 7b 20 f5 c0 78 9e 83 b5 9f 25 e5 33 c5 06 91 9f 9b 0b 47 e6 bc 26 ee 7f 45 bb f0 66 23 f1 9b 82 b4 f3 16 97 45 c3 22 1e 61 56 3c 2c 8c 83 e1 89 47 c2 97 92 95 50 80 3c 2d ad c4 ba 74 49 67 95 24 5b de 48 be 37 0f 0a 7f b3 e5 ab 73 6f c2 50 c4 f7 9e f2 ad 9e 85 a3 18 f9 43 47 d3 ca 75 56 62 23 a8 91 35 78 a1 73 ce cf 19 c4 84 ee d2 0b 70 6d 9e</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">WithdrawalDocument</span> <span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="kt">string</span><span class="err">&gt;</span> <span class="na">properties</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// { "WalletId":"12345", "UserId":"test" }</span>
  <span class="kt">int64</span> <span class="na">asset_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// 300578305</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// 100000140</span>
  <span class="n">DestinationDetails</span> <span class="na">destination_details</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="n">swisschain.sirius.api.common.BigDecimal</span> <span class="na">amount</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// 0.1</span>
  <span class="n">swisschain.sirius.api.common.FeePayer</span> <span class="na">fee_payer</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">DestinationDetails</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// "0x663e933ECdc5b1acbaCB87F4aa1636cd05837613"</span>
  <span class="n">DestinationTag</span> <span class="na">destination_tag</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// null</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">DestinationTag</span> <span class="p">{</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">value</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">swisschain.sirius.api.common.TagType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div><h3 id='withdrawals-starts-a-withdrawal-parameters'>Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Idempotency-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>X-TFA-code</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>TFA code</td>
</tr>
<tr>
<td>-</td>
<td><code>idempotency_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>document</code></td>
<td><code>document</code></td>
<td><em><a href="#withdrawaldocument-object">WithdrawalDocument</a></em></td>
<td><em>body</em></td>
<td>structured withdrawal parameters</td>
</tr>
<tr>
<td><code>document.properties</code></td>
<td><code>document.properties</code></td>
<td><em>map<string, string></em></td>
<td><em>body</em></td>
<td>dictionary of key-value pairs with custom or <em><a href="_known-properties.md">known properties</a></em></td>
</tr>
<tr>
<td><code>document.assetid</code></td>
<td><code>document.asset_id</code></td>
<td><em>int64</em></td>
<td><em>body</em></td>
<td>ID of the asset to use</td>
</tr>
<tr>
<td><code>document.brokerAccountId</code></td>
<td><code>document.broker_account_id</code></td>
<td><em>int64</em></td>
<td><em>body</em></td>
<td>ID of the broker account to use</td>
</tr>
<tr>
<td><code>document.destinationDetails</code></td>
<td><code>document.destination_details</code></td>
<td><em><a href="#destinationdetails-object">DestinationDetails</a></em></td>
<td><em>body</em></td>
<td>destination parameters of the withdrawal (address and tag info)</td>
</tr>
<tr>
<td><code>document.Amount</code></td>
<td><code>document.amount</code></td>
<td><em><a href="#destinationdetails-object">DestinationDetails</a></em></td>
<td><em>body</em></td>
<td>destination parameters of the withdrawal (address and tag info)</td>
</tr>
<tr>
<td><code>document.FeePayer</code></td>
<td><code>document.feePayer</code></td>
<td>&quot;sender&quot;</td>
<td>&quot;recepient&quot;</td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>signature</code></td>
<td><code>signature</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
<td>Base64-encoded RSA signature of the data signed with the Customer&#39;s private key. The exact format of the data to be signed is described below.</td>
</tr>
</tbody></table>
<h3 id='withdrawals-starts-a-withdrawal-signing-data-format'>Signing data format</h3>
<p>Withdrawal signing data format (order of parameters is important):
<code>
[&#39;36585f34-d311-433a-87f1-1751b08480c3&#39;,&#39;300578305&#39;,&#39;100000140&#39;,&#39;0x663e933ECdc5b1acbaCB87F4aa1636cd05837613&#39;,null,null,&#39;0.1&#39;,&#39;sender&#39;,&#39;UserId:test;WalletId:12345&#39;]
</code></p>

<p>Parameters used:
0: IdempotencyId <code>36585f34-d311-433a-87f1-1751b08480c3</code></p>

<p>1: AssetId <code>300578305</code> (BNB)</p>

<p>2: BrokerAccountId <code>100000140</code></p>

<p>3: DestinationAddress <code>0x663e933ECdc5b1acbaCB87F4aa1636cd05837613</code></p>

<p>4: DestinationTag <code>null</code></p>

<p>5: DestinationTagType <code>null</code></p>

<p>6: Amount: <code>0.1</code>
7: FeePayer: <code>sender</code></p>

<p>8: Properties:</p>

<p>8.1: UserId: <code>test</code> (corresponds to UserNativeId)</p>

<p>8.2: WalletId: <code>12345</code> (corresponds to AccountReferenceId)</p>

<p>When putting together signing data, it is required to sort properties alphabetically by keys. 
However, gRPC and REST APIs accept properties as hashmap of unordered key-value pairs.
These key-value pairs will be sorted during signature validation internally on the serverside.</p>

<p>The presented signing data format is used whenever client wishes to execute signed withdrawal. Withdrawal signing data has to be constructed on the client side and signed with customer private key.</p>

<p>Notes on the signing data format:
- Please use <code>null</code> without quotes for parameters without value (including properties)
- Please format numeric values with at least one fractional digit, even if the value is an integer (i.e. 2 has to become 2.0)</p>

<p>For more information on the signing data format and its usage please refer to the page dedicated to <em><a href="_signing-data.md">signing data formats</a></em>.</p>
<h3 id='withdrawals-starts-a-withdrawal-response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/v</span><span class="mi">2</span><span class="err">/withdrawals</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
 </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">106000003</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.withdrawals.Withdrawals.Execute</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">WithdrawalExecutePayload</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">WithdrawalExecuteError</span> <span class="p">{</span>
  <span class="kd">enum</span> <span class="n">ErrorCode</span> <span class="p">{</span>
    <span class="na">UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">INVALID_PARAMETERS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="na">DOMAIN_PROBLEM</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="na">TECHNICAL_PROBLEM</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="na">NOT_AUTHORIZED</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="na">NOT_ENOUGH_BALANCE</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">ErrorCode</span> <span class="na">code</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">string</span> <span class="kd">message</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">WithdrawalExecuteResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">WithdrawalExecutePayload</span> <span class="na">payload</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">WithdrawalExecuteError</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id='withdrawals-starts-a-withdrawal-parameters'>Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the withdrawal</td>
<td></td>
</tr>
</tbody></table>
<h1 id='smartcontracts'>SmartContracts</h1>
<p><Placeholder_for_description></p>
<h2 id='smartcontracts-invoke-smart-contract-method'>Invoke smart contract method</h2><h3 id='smartcontracts-invoke-smart-contract-method-request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/v2/smart-contracts/{smartContractId}/invoke</code>
<strong>gRPC API:</strong> <code>Swisschain.Sirius.Api.ApiContract.V2.SmartContracts.Invoke</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/v</span><span class="mi">2</span><span class="err">/smart-contracts/</span><span class="p">{</span><span class="err">smartContractId</span><span class="p">}</span><span class="err">/invoke</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json,</span><span class="w"> </span><span class="err">text/plain,</span><span class="w"> </span><span class="err">*/*)</span><span class="w">

</span><span class="err">x-idempotency-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"Document"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"prop1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prop2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"MethodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mint"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MethodAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40c10f19"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BrokerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000074</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1a5c0b3d15494ec8a390fd3b22d757d6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Arguments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ParameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Prototype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x94afa005a395e470EB56a26E9081dC650EF84732"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ParameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Prototype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Int"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000000000000</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">300000010</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyContractInvocation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JiOtcENJqblnWFcTZ4DiXwUZudlKBUtYnSkUjmfAH/8a1jeMPwFBu8MGjffITh3PRl/VLRTj8kjKWFT8EUR/8Qb3E8dTeuBlCIDU2RlHRRfb6iuTvjlPmUYQ/+Es6oZlH+Tapvjfa57N19poNZ7zimqadsASe3FGt0ME9J5vufE="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="kd">message</span> <span class="nc">SmartContractInvokeRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">idempotency_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">SmartContractInvocationDocument</span> <span class="na">document</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kt">bytes</span> <span class="na">signature</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kt">int64</span> <span class="na">smart_contract_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">SmartContractInvocationDocument</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">string</span> <span class="na">method_name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">method_address</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="k">repeated</span> <span class="n">swisschain.sirius.api.smart_connect.data_model.Argument</span> <span class="na">arguments</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="n">swisschain.sirius.api.smart_contracts.common.Payment</span> <span class="na">payment</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="kt">string</span><span class="err">&gt;</span> <span class="na">properties</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">// example:</span>
<span class="p">{</span>
  <span class="s">"idempotency_id"</span><span class="o">:</span> <span class="s">"60f0cea8-1836-4ff5-b81d-422c1f705bce"</span><span class="p">,</span>
  <span class="s">"document"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s">"broker_account_id"</span><span class="o">:</span> <span class="mi">100000074</span><span class="p">,</span>
    <span class="s">"method_name"</span><span class="o">:</span> <span class="s">"mint"</span><span class="p">,</span>
    <span class="s">"method_address"</span><span class="o">:</span> <span class="s">"40c10f19"</span><span class="p">,</span>
    <span class="s">"arguments"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"parameterName"</span><span class="o">:</span> <span class="s">"account"</span><span class="p">,</span>
        <span class="s">"value"</span><span class="o">:</span> <span class="p">{</span>
          <span class="s">"prototype"</span><span class="o">:</span> <span class="s">"address"</span><span class="p">,</span>
          <span class="s">"address"</span><span class="o">:</span> <span class="s">"0x94afa005a395e470EB56a26E9081dC650EF84732"</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"parameterName"</span><span class="o">:</span> <span class="s">"amount"</span><span class="p">,</span>
        <span class="s">"value"</span><span class="o">:</span> <span class="p">{</span>
          <span class="s">"prototype"</span><span class="o">:</span> <span class="s">"int"</span><span class="p">,</span>
          <span class="s">"int"</span><span class="o">:</span> <span class="mi">100000000000000000</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"payment"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s">"assetId"</span><span class="o">:</span> <span class="mi">300000010</span><span class="p">,</span>
      <span class="s">"amount"</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s">"reference_id"</span><span class="o">:</span> <span class="s">"1234"</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s">"exampleKey"</span><span class="o">:</span> <span class="s">"exampleValue"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"signature"</span><span class="o">:</span> <span class="s">"JiOtcENJqblnWFcTZ4DiXwUZudlKBUtYnSkUjmfAH/8a1jeMPwFBu8MGjffITh3PRl/VLRTj8kjKWFT8EUR/8Qb3E8dTeuBlCIDU2RlHRRfb6iuTvjlPmUYQ/+Es6oZlH+Tapvjfa57N19poNZ7zimqadsASe3FGt0ME9J5vufE="</span><span class="p">,</span>
  <span class="s">"smart_contract_id"</span><span class="o">:</span> <span class="mi">109000043</span><span class="p">,</span>
  <span class="s">"name"</span><span class="o">:</span> <span class="s">"ExampleName"</span>
<span class="p">}</span>
</code></pre></div><h3 id='smartcontracts-invoke-smart-contract-method-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>gRPC name</th>
<th>REST name</th>
<th>Type</th>
<th>Description</th>
<th>Location</th>
</tr>
</thead><tbody>
<tr>
<td><code>idempotency_id</code></td>
<td><code>idempotencyId</code></td>
<td>string</td>
<td>Unique ID for idempotency</td>
<td>header</td>
</tr>
<tr>
<td><code>smart_contract_id</code></td>
<td><code>smartContractId</code></td>
<td>int64</td>
<td>ID of the deployed smart contract</td>
<td>path</td>
</tr>
<tr>
<td><code>document.broker_account_id</code></td>
<td><code>document.brokerAccountId</code></td>
<td>int64</td>
<td>Broker account ID</td>
<td>body</td>
</tr>
<tr>
<td><code>document.method_name</code></td>
<td><code>document.methodName</code></td>
<td>string</td>
<td>Method name to be invoked</td>
<td>body</td>
</tr>
<tr>
<td><code>document.method_address</code></td>
<td><code>document.methodAddress</code></td>
<td>string</td>
<td>Method address to be invoked</td>
<td>body</td>
</tr>
<tr>
<td><code>document.arguments</code></td>
<td><code>document.arguments</code></td>
<td><em>repeated</em>, <em><a href="#argument">Argument</a></em></td>
<td>Arguments to the method invocation</td>
<td>body</td>
</tr>
<tr>
<td><code>document.payment</code></td>
<td><code>document.payment</code></td>
<td><em><a href="#payment">Payment</a></em></td>
<td>Payment for the smart contract</td>
<td>body</td>
</tr>
<tr>
<td><code>document.reference_id</code></td>
<td><code>document.referenceId</code></td>
<td>string</td>
<td>Reference ID</td>
<td>body</td>
</tr>
<tr>
<td><code>document.properties</code></td>
<td><code>document.properties</code></td>
<td>map<string, string></td>
<td>Properties of the smart contract</td>
<td>body</td>
</tr>
<tr>
<td><code>signature</code></td>
<td><code>signature</code></td>
<td>bytes</td>
<td>Base64-encoded RSA signature of the document signed with the Customer&#39;s private key</td>
<td>body</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>string</td>
<td>Name</td>
<td>body</td>
</tr>
</tbody></table>
<h3 id='smartcontracts-invoke-smart-contract-method-response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"SmartContractInvocationId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="kd">message</span> <span class="nc">SmartContractInvokeResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">kind</span> <span class="p">{</span>
    <span class="n">SmartContractInvokePayload</span> <span class="na">payload</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">SmartContractInvokeError</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">SmartContractInvokePayload</span> <span class="p">{</span>
  <span class="n">int63</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">SmartContractInvokeError</span> <span class="p">{</span>
  <span class="kd">enum</span> <span class="n">ErrorCode</span> <span class="p">{</span>
    <span class="na">UNKNOWN</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="na">INVALID_PARAMETERS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">DOMAIN_PROBLEM</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="na">TECHNICAL_PROBLEM</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="na">NOT_AUTHORIZED</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="na">NOT_ENOUGH_BALANCE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">ErrorCode</span> <span class="na">code</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">string</span> <span class="kd">message</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><h3 id='smartcontracts-invoke-smart-contract-method-signing-data-format'>Signing data format</h3>
<p>Smart Contract Invocation V2 signing data format (order of parameters is important):</p>
<div class="highlight"><pre class="highlight plaintext"><code>

Parameters used:

0: IdempotencyId `422895a404f220d08763`

1: MethodName `createForgeBond`

2: MethodAddress `0x6ff569ba`

3: BrokerAccountId `100000077`

4: ReferenceId `null`

5: Arguments `basicTokenInput:{...};registryAddress:0x99b7a5170d2F89bB22a295DE41B548eB4A345bc0`

6: AssetId `300638515`

7: PaymentAmount `0.0`

8: Properties `CastOperationType:Issuance;FactoryAddress:0xAd3df4b196d2fbafecd6CFa6914B73d2d5812da3;...`

When constructing the signing data, ensure the properties are sorted alphabetically by keys. Despite gRPC and REST APIs accepting properties as a hashmap of unordered key-value pairs, these pairs will be internally sorted during signature validation on the server-side.

This signing data format is used whenever a client wishes to execute a signed Smart Contract Invocation V2. The signing data must be created on the client side and signed with the customer's private key.

Notes on the signing data format:

- Please use `null` without quotes for parameters without value (including properties)
- Please format numeric values according to their type. Numeric data types that can contain a fractional part (e.g., decimal, double, float, etc.) must be formatted with at least one decimal digit. Numeric data types that cannot contain a fractional part (e.g., integer, long, short) must be formatted without a fractional part and without a decimal separator.

For more information on the signing data format and its usage, please refer to the page dedicated to *[signing data formats](_signing-data.md)*.
</code></pre></div><h1 id='known-properties'>Known properties</h1>
<p>V2 API allows assigning custom properties to some requests in the form
of set of key-value pairs where both key and value are strings. Users can provide custom
keys or use some known properties with predefined behaviour and functionality.</p>

<p>The list of the known properties and their respective behaviour is defined below:</p>

<ol>
<li><code>UserId</code>: allows passing identifier from the AML verification (formerly known as UserNativeID);</li>
<li><code>WalletId</code>: allows linking request to specific account, the value is used to look up Account with the specified <code>AccountReferenceId</code></li>
</ol>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
